from neopixel import *

# LED strip configuration:
LED_COUNT = 480  # Number of LED pixels.
LED_PIN = 18  # GPIO pin connected to the pixels (18 uses PWM!).
# LED_PIN        = 10      # GPIO pin connected to the pixels (10 uses SPI /dev/spidev0.0).
LED_FREQ_HZ = 800000  # LED signal frequency in hertz (usually 800khz)
LED_DMA = 10  # DMA channel to use for generating signal (try 10)
LED_BRIGHTNESS = 64  # Set to 0 for darkest and 255 for brightest
LED_INVERT = False  # True to invert the signal (when using NPN transistor level shift)
LED_CHANNEL = 0  # set to '1' for GPIOs 13, 19, 41, 45 or 53

FPS = 60
list_indice = []
current_min = 1000000
current_max = 0
""" MATRICE PHYSIQUE DES LEDS. 1 liste = 1 bloc avec ID de ses LEDs:

[0,1,2,3]	               [6,7,8,9,10]	        [13,14,15,16]	    [19,20,21,22]	      [26,27,28,29]	    	[32,33,34,35]	  	[38,39,40,41]  		[44,45,46,47]
[91,92,93,94,95]	       [85,86,87,88]	    [79,80,81,82]	    [73,74,75,76]	      [66,67,68,69]	    	[60,61,62,63]	  	[54,55,56,57]	    [48,49,50,51]
[96,97,98,99,100]	       [103,104,105,106]	[109,110,111,112]	[115,116,117,118]	  [122,123,124,125]		[128,129,130,131] 	[134,135,136,137]	[141,140,141,142,143]
[187,188,189,190,191]	   [181,182,183,184]	[175,176,177,178]	[169,170,171,172]	  [162,163,164,165]		[156,157,158,159] 	[150,151,152,153]	[144,145,146,147]
[193,194,195,196]	       [199,200,201,202]	[205,206,207,208]	[211,212,213,214,215] [218,219,220,221]		[224,225,226,227] 	[230,231,232,233]	[236,237,238,239,240,239]
[283,284,285,286,287]	   [277,278,279,280]	[271,272,273,274]	[265,266,267,268]	  [258,259,260,261]		[252,253,254,255] 	[246,247,248,249]	[240,241,242]
[289,290,291,292]	       [295,296,297,298]	[301,302,303,304]	[307,308,309,310,311] [314,315,316,317]		[321,322,323]	  	[327,328,329]	    [333,334,335]
[379,380,381,382]	       [373,374,375,376]	[367,368,369,370]	[361,362,363,364]	  [354,355,356,357]		[348,349,350,351] 	[342,343,344]	    [336,337,338]
[383,384,385,386,387,388]  [391,392,393,394]	[397,398,399,400]	[403,404,405,406]	  [410,411,412,413]		[416,417,418,419] 	[423,424,425]	    [429,430,431]
[475,476,477,478]	       [469,470,471,472]	[463,464,465,466]	[457,458,459,460]	  [451,452,453,454]		[444,445,446,447] 	[438,439,440,441]	[432,433,434]

"""

MATRIX = [[ [475,476,477,478], [383,384,385,386,387,388], [379,380,381,382], [289,290,291,292], [283,284,285,286,287], [193,194,195,196], [187,188,189,190,191], [96,97,98,99,100], [91,92,93,94,95], [0,1,2,3] ],
          [ [469,470,471,472], [391,392,393,394], [373,374,375,376], [295,296,297,298], [277,278,279,280], [199,200,201,202], [181,182,183,184], [103,104,105,106], [85,86,87,88], [6,7,8,9,10] ],
          [ [463,464,465,466], [397,398,399,400], [367,368,369,370], [301,302,303,304], [271,272,273,274], [205,206,207,208], [175,176,177,178], [109,110,111,112], [79,80,81,82], [13,14,15,16] ],
          [ [457,458,459,460], [403,404,405,406], [361,362,363,364], [307,308,309,310,311], [265,266,267,268], [211,212,213,214,215], [169,170,171,172], [115,116,117,118], [73,74,75,76], [19,20,21,22] ],
          [ [451,452,453,454], [410,411,412,413], [354,355,356,357], [314,315,316,317], [258,259,260,261], [218,219,220,221], [162,163,164,165], [122,123,124,125], [66,67,68,69], [26,27,28,29] ],
          [ [444,445,446,447], [416,417,418,419], [348,349,350,351], [321,322,323], [252,253,254,255], [224,225,226,227], [156,157,158,159], [128,129,130,131], [60,61,62,63], [32,33,34,35] ],
          [ [438,439,440,441], [423,424,425], [342,343,344], [327,328,329], [246,247,248,249], [230,231,232,233], [150,151,152,153], [134,135,136,137], [54,55,56,57], [38,39,40,41] ],
          [ [432,433,434], [429,430,431], [336,337,338], [333,334,335], [240,241,242], [236,237,238,239,240,239], [144,145,146,147], [141,140,141,142,143], [48,49,50,51], [44,45,46,47] ]]

INITIAL = [[0,0,1,1,1,2,2,2,3,0],
           [0,0,0,0,0,2,0,0,3,0],
           [0,0,0,0,0,2,0,0,3,0],
           [0,0,0,0,0,0,0,0,3,0],
           [0,0,0,1,1,2,2,2,0,0],
           [0,0,1,0,0,0,0,0,3,0],
           [0,0,1,0,1,0,0,0,3,0],
           [0,0,0,1,1,0,0,2,0,0]]
if __name__ == '__main__':
    strip = Adafruit_NeoPixel(LED_COUNT, LED_PIN, LED_FREQ_HZ, LED_DMA, LED_INVERT, LED_BRIGHTNESS, LED_CHANNEL)
    strip.begin()
    for i in range(len(8)):
        for j in range(10):
            if INITIAL[i][j] == 0:
                for k in range(len(MATRIX[i][j])):
                    strip.setPixelColor(MATRIX[i][j][k],Color(0,0,0))
            if INITIAL[i][j] == 1:
                for k in range(len(MATRIX[i][j])):
                    strip.setPixelColor(MATRIX[i][j][k],Color(255,0,0))
            if INITIAL[i][j] == 2:
                for k in range(len(MATRIX[i][j])):
                    strip.setPixelColor(MATRIX[i][j][k],Color(140,255,0))
            if INITIAL[i][j] == 3:
                for k in range(len(MATRIX[i][j])):
                    strip.setPixelColor(MATRIX[i][j][k],Color(0,255,0))
    strip.show()





